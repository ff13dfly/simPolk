<div class="row">
    <div class="col-lg-7 col-md-7 gy-4">
        <h3>simPolk is a simulator for polkadot.</h3>
    </div>
    <div class="col-lg-5 col-md-7 gy-4 text-end">
        <button class="btn btn-lg btn-primary" id="restruct_network">Restruct data</button>
        <button class="btn btn-lg btn-danger" id="reset_network">Reset network</button>
    </div>
    <div class="col-lg-12">
        <hr>
    </div>
    <div class="col-lg-12" id="config_setting">
    </div>
</div>

<script type="text/javascript">
    var self = {
        jsonBlock: function(js, con) {
            Jeditor.init(js, {
                "container": con,
                "name": "Simchain setting",
                "setting": {
                    "row": {
                        "left": 4,
                        "right": 6,
                        "note": 2
                    },
                },
                "lock": [],
            })
        },
    };

    $(function() {
        simPolk.request('chain', 'config', {}, function(res) {
            if (!res.success) return false;
            self.jsonBlock(res.data, '#config_setting');
        });
    });

    $('#restruct_network').on('click', function() {
        //1.需要考虑数据量过大的情况下，分步执行

        simPolk.request('chain', 'restruct', {}, function(res) {
            console.log(res)
        });
    });

    $('#reset_network').on('click', function() {
        simPolk.request('chain', 'reset', {}, function(res) {
            console.log(res)
        });
    });
</script>