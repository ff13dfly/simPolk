<div class="row">
    <div class="col-lg-9">
        <h4 id="block_current"></h4>
        <p>Current block height</p>
    </div>

    <div class="col-lg-9" id="server_current">

    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <hr>
    </div>
    <div class="col-lg-9">
        <h4>Collected Transfer List</h4>
    </div>
</div>
<div class="row" id="collected_transfer">

</div>

<div class="row">
    <div class="col-lg-12">
        <hr>
    </div>
    <div class="col-lg-9">
        <h4>Collected Storage List</h4>
    </div>
</div>
<div class="row" id="collected_storage">

</div>

<div class="row">
    <div class="col-lg-12">
        <hr>
    </div>
    <div class="col-lg-9">
        <h4>Collected Contact List</h4>
    </div>
</div>
<div class="row" id="collected_contact">

</div>

<script type="text/javascript">
    var self = {
        domList: function(list) {
            var dom = '';
            for (var k in list) {
                var row = list[k];
                dom += '<div class="col-lg-1">' + k + '</div>' + '<div class="col-lg-11">' + row + '</div>'
            }
            return dom;
        },
        domMerkle: function(arr) {
            var dom = '';
            for (var k in arr) {
                var row = arr[k];
                dom += '<div class="col-lg-1">' + k + '</div>' + '<div class="col-lg-11">' + row + '</div>'
            }
            return dom;
        }
    }

    simPolk.request('chain', 'current', {}, function(res) {
        //console.log(res)
        $('#block_current').html(res.current.current_block);
        $('#server_current').html(res.current.server.url);

        var tdom = self.domList(res.transfer.data);
        var mtree = '<h5>Merkle tree</h5>' + self.domMerkle(res.transfer.merkle)
        $('#collected_transfer').html(tdom).append(mtree);

        var sdom = self.domList(res.storage.data);
        var stree = '<h5>Merkle tree</h5>' + self.domMerkle(res.storage.merkle);
        $('#collected_storage').html(sdom).append(stree);

        var cdom = self.domList(res.contact.data);
        var ctree = '<h5>Merkle tree</h5>' + self.domMerkle(res.contact.merkle);
        $('#collected_contact').html(cdom).append(ctree);
    });
</script>